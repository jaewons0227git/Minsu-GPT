<!doctype html>
<html lang="ko" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
  <meta name="theme-color" content="#ffffff" id="meta-theme-color">
  <title>MinsuGPT</title> 
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Elms+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Symbols+Rounded" rel="stylesheet">
  <link rel="stylesheet" href="style.css"> 

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <script>
    // 배포 환경에 맞춰 리다이렉트 로직이 필요하면 주석 해제하세요.
    // const ALLOWED_REFERRER = 'https://minsugpt.kro.kr/';
    // if (!document.referrer.startsWith(ALLOWED_REFERRER)) { window.location.replace(ALLOWED_REFERRER); }
  </script>
</head>
<body>
  <div class="phone" role="application" aria-label="채팅 UI">
    
    <div id="sidebar-backdrop" class="sidebar-backdrop"></div>
    <aside id="sidebar" class="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-title">채팅 목록</div>
            <div class="header-icon" id="close-sidebar" style="cursor:pointer;">
                <span class="material-symbols-rounded">close</span>
            </div>
        </div>
        <div class="sidebar-actions">
            <button class="new-chat-btn" id="sidebar-new-chat">
                <span class="material-symbols-rounded">add</span> 새 채팅 시작
            </button>
        </div>
        <div class="search-container">
            <input type="text" id="chat-search" class="search-input" placeholder="대화 검색...">
        </div>
        <div id="chat-list" class="chat-list">
            </div>
        <div class="sidebar-footer">
            <div class="sidebar-footer-btn" id="btn-export-all">
                <span class="material-symbols-rounded">download</span> 대화 내보내기
            </div>
             <div class="sidebar-footer-btn" id="btn-import-all">
                <span class="material-symbols-rounded">upload</span> 대화 불러오기
            </div>
            <div class="sidebar-footer-btn" id="btn-delete-all" style="color: var(--error-red);">
                <span class="material-symbols-rounded">delete_forever</span> 모든 대화 삭제
            </div>
        </div>
    </aside>

    <div id="chat-options-popover" class="popover-menu">
        <div class="popover-item" id="opt-rename"><span class="material-symbols-rounded" style="font-size:18px">edit</span>이름 변경</div>
        <div class="popover-item danger" id="opt-delete"><span class="material-symbols-rounded" style="font-size:18px">delete</span>삭제</div>
    </div>

    <header class="header">
        <div class="header-left-group">
             <div class="header-icon menu-icon" id="menu-btn">
                <span class="material-symbols-rounded">menu</span>
            </div>
            <div class="header-logo">
                <img src="https://i.postimg.cc/MKBHwqWk/logogogo.png" alt="MinsuGPT 로고">
            </div>
            <div class="header-title">MinsuGPT</div>
            <div class="header-center">
                <div class="plus-btn">
                    <span>Beta</span>
                </div>
            </div>
        </div>
      
        <div class="header-icon" id="settings-button" aria-label="설정"> 
            <span class="material-symbols-rounded">settings</span>
        </div>
    </header>

    <main id="content-wrapper" class="content-wrapper">
        <div id="scroll-to-bottom-container">
            <button id="scrollDownButton" class="hidden" aria-label="맨 아래로 스크롤"></button>
        </div>
        
        <div id="initial-content">
            <div class="main-question">안녕하세요! 반가워요</div>
            <div class="quick-actions">
                <div class="action-btn new-green" data-prompt="텍스트와 함께 대화하기">
                    <span class="material-symbols-rounded">chat</span> 텍스트 대화
                </div>
                <div class="action-btn" data-prompt="브레인스토밍 시작">
                    <div class="icon-light">💡</div> 브레인스토밍
                </div>
                <div class="action-btn new-blue" data-prompt="글 쓰기 예시 요청">
                    <span class="material-symbols-rounded">edit</span> 글 쓰기
                </div>
                <div class="action-btn orange" data-prompt="텍스트 요약 방법 알려주기">
                    <span class="material-symbols-rounded">description</span> 텍스트 요약
                </div>
            </div>
        </div>

        <div id="chat-messages" class="chat-messages"></div>
    </main>

    <div class="composer-gradient-overlay" id="composer-gradient"></div>

    <div id="composer" class="composer style-default">
      <div class="composer-inner">
        <div class="plus" id="plus-button" aria-label="파일 첨부">
            <span class="material-symbols-rounded">add</span>
        </div>

        <div class="input-area-wrapper">
            <div id="image-mode-indicator" class="image-mode-indicator">
                <span><span class="material-symbols-rounded" style="font-size: 18px;">auto_fix_high</span> 이미지 생성 모드</span>
                <span class="material-symbols-rounded close-image-mode" id="close-image-mode" style="font-size: 18px;">close</span>
            </div>

            <div id="input-container" class="input-container">
              <textarea id="message-input" placeholder="MinsuGPT에게 물어보기" rows="1"></textarea>
            </div>
        </div>

        <div class="bottom-controls">
            <div class="simple-tools">
                <div class="tool-btn" id="tool-image">
                    <span class="material-symbols-rounded">image</span> 이미지
                </div>
            </div>
            
            <div class="right-controls">
                 <div class="mic-voice-container">
                    <div id="action-button-container">
                        <div id="send-button" class="send-btn">
                          <span class="material-symbols-rounded">arrow_upward</span>
                        </div>
                        <div id="stop-button" class="stop-btn" style="display:none;">
                            <span class="stop-icon"></span>
                        </div>
                    </div>
                  </div>
            </div>
        </div>
      </div>
    </div>
    
    <div id="snackbar">메시지가 복사되었습니다.</div>
    
    <div id="plus-modal-backdrop" class="modal-backdrop">
        <div id="plus-modal" class="modal">
            <div class="modal-handle"></div>
            <div class="modal-option" id="menu-create-image">
                <div class="modal-option-icon"><span class="material-symbols-rounded">auto_fix_high</span></div>
                이미지 만들기
            </div>
        </div>
    </div>
    
    <div id="settings-modal-backdrop" class="modal-backdrop">
        <div id="settings-modal" class="modal">
            <div class="modal-handle"></div>
            <h3>설정</h3>
            <div class="ui-style-selector">
                <span class="ui-style-label">화면 테마</span>
                <div class="theme-btn-group">
                    <div class="theme-btn active" data-theme-val="auto">자동</div>
                    <div class="theme-btn" data-theme-val="light">라이트</div>
                    <div class="theme-btn" data-theme-val="dark">다크</div>
                </div>
            </div>
            <div class="ui-style-selector">
                <span class="ui-style-label">입력창 스타일</span>
                <div class="ui-style-options">
                    <button class="ui-style-btn active" data-style="default">기본</button>
                    <button class="ui-style-btn" data-style="simple">심플</button>
                </div>
            </div>
        </div>
    </div>
    
    <input type="file" id="import-file-input" style="display: none;" accept=".json">

  </div>
  <script src="script.js"></script>
</body>
</html>
